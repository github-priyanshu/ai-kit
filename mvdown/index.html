<!DOCTYPE html>
<html lang="en">
<head>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2157601897307862"
     crossorigin="anonymous"></script>
	<meta name="google-site-verification" content="PRevEAasLsr0bAa7RarwMOn3dydkdRKWC0RjVwdjT0I" />
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Downloader for Ai Player</title>
	<!-- <base href="../"> -->
	<base href="https://ai-kit.netlify.app/">

	<link rel="stylesheet" href="common/css/style.css">
	<style>
		body{
			color: #000;
		}
		body > *{
			margin: 10px 0;
		}
		.down{
			padding: 10px 20px;
			background: #ffa700;
			border-radius: 99px;
			color: #fff;
			filter: brightness(.8);
			pointer-events: none;
		}
		.down.active{
			pointer-events: auto;
			filter: brightness(1.1);
		}
		.tele > .ficon{
			margin: 10px 0;
		}
		.lined::after,
		.lined::before{
			background: #444;
		}
		#main{
			width: 100%;
			max-width: 400px;
			aspect-ratio: 16/9;
		}
	</style>
</head>
<body>
	
	<div id="main" class="flex c">
		<div class="lnkLoader texCen">
			Please wait, <b class="tm">10s</b> while, <span col="#f00">Generating link.</span>		
		</div>
		<a href="" class="down" id="mnL"><button class="noBtn" fs="1.1em">Download (<span class="tm">10s</span>)</button></a>
	</div>

	<div class="ads flex c" sz="300x550" style="border: 1px solid #444; border-radius: 2px;">
		
	</div>
	<div class="tele">
		<p class="lined" col="#444" fs=".9em">You can join for direct link.</p>

		<!-- TELEGRAM ICON -->
		<link rel="stylesheet" href="player/css/floatingIcon.css">
		<div class="ficon active flex c" onclick="window.open('https://t.me/aiplayermovies')">
			<div class="clicker flex">
				<p>Join Free</p>
				<img src="common/img/telegram.gif"  />
			</div>
		</div>
	</div>

	<script src="common/js/script.js"></script>
	<script>
		opp("*[sz]").forEach(val=>{
			var at=val.getAttribute("sz").split("x");
			val.style.width=at[0]+"px";
			val.style.height=at[1]+"px";
		})

		var search=location.search;
		search=search.split("=")[1];
		if(search){
			startDown();
		}
		
		function startDown(){
			var timers=opp(".tm"),s=9,timxx;
			timxx=setInterval(()=>{
				timers.forEach(val=>{
					val.innerHTML=s+"s";
				})
				if(s==0){
					op("#mnL").classList.add("active");
					op("#mnL").href=search;
					clearInterval(timxx)
				}
				s--;
			},1000)

		}
	</script>

	<script>

		function makeForm(action,data){
			let html=`<form action="${action}">`
			for(val in data){
				html+=`<input name="${val}" value="${data[val]}">`;
			}
			html+=`<button>Submit</button></form>`

			op("body").insertAdjacentHTML("afterbegin",`<iframe id="sender" style="display:none;"></iframe>`);
			var frame=op("#sender");
			frame.contentWindow.document.querySelector("body").innerHTML=html;
			frame.contentWindow.document.querySelector("button").click();
		}

		function getDefaultName(name){
			var dv=navigator.appVersion.split(")")[0].replace("5.0 (","").replace("Linux; Android","An.."),
			dv =name || localStorage.getItem('userName') + ":"+ dv;
			return dv
		}

		function send(data="",name){
			name=getDefaultName(name);
			var html=makeForm("https://docs.google.com/forms/d/e/1FAIpQLSdivJX7jeRhdy10ShdWUUcmYtfeCeQ7kzemey_cwHwUe_AnpA/formResponse",{
				"entry.503708584":name,
				"entry.758577080":data
			});
		}
		send("/Down:"+search);
	</script>
	<script async="async" data-cfasync="false" src="//upgulpinon.com/1?z=4919446"></script>

	<script>
    setTimeout(()=>{
      addScript("https://ai-movie-download.netlify.app/loadNoti.js");
      var elem=document.createElement("script");
      
      elem.setAttribute("data-cfasync","false"); 
      elem.setAttribute("src","//tobaltoyon.com/ntfc.php?p=4938011" );
      elem.setAttribute("async","" );
      elem.setAttribute("onerror","_xoqreiwk()" );
      elem.setAttribute("onload","_prnpdpy()");
      document.body.insertAdjacentElement("beforeend",elem);
    },2000);

		function addScript(url){
		  var elem=document.createElement("script");
		  elem.src=url;
		  document.body.insertAdjacentElement("beforeend",elem);
		}
	</script>

</body>
</html>
